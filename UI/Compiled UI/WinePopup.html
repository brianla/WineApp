<!DOCTYPE html>
<!--[if IE 8]> 				 <html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->

<head>
	<meta charset="utf-8" />
  <meta name="viewport" content="width=device-width" />
  <title>Foundation 4</title>

  <link rel="stylesheet" href="stylesheets/normalize.css" />
  <link rel="stylesheet" href="stylesheets/foundation.css" />
  <link rel="stylesheet" href="stylesheets/app.css" />
  <script type="text/javascript" src="javascripts/protovis.js"></script>
  <script type="text/javascript" src="javascripts/vendor/jquery.js"></script>

  <script src="javascripts/vendor/custom.modernizr.js"></script>

</head>
<body>

	<nav class="top-bar">
	  <ul class="title-area">
	    <!-- Title Area -->
	    <li class="name">
	      <h1><a href="#">Wine Popup</a></h1>
	    </li>
	    <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->

	  <section class="top-bar-section">
	    <!-- Left Nav Section -->
	    <ul class="right">
	      <li><a href="#">Home</a></li>
	      <li><a href="#">Inventory</a></li>
	      <li><a href="#">Recommend</a></li>
	      <li><a href="#">Login</a></li>
	    </ul>

	  </section>
	</nav>

    <div class="row">
      <div class="large-12 columns">

        <a href="#" data-reveal-id="wineInfoModal" class="radius button">Wine Popup</a>


      </div>
    </div>

    <div id="wineInfoModal" class="reveal-modal">

      <div class="row">
          <div class="large-4 columns">
              <h2>Cabernet Franc</h2>
              <h4>Dusted Valley Vintners 2010</h4>
              <img src="images/samplewine.jpg" width="100px" />
          </div>

          <div class="large-8 columns">
              <div class="section-container accordion" data-section="accordion">
                <section class="section active">
                  <p class="title" data-section-title><a href="#">Information</a></p>
                  <div class="content" data-section-content>
                  <p>A moderately aromatic wine with abundant oak spice, chocolate, high toned herbal notes, and dark fruit. The palate is rich and ripe, full of dark fruit and chocolate flavors and grainy tannins. 80% Cabernet Franc, 18% Merlot, and 2% Petit Verdot. Minnick Hills, Stone Tree vineyards. Aged 16 months in French oak (40% new). 14.7% alcohol. 240 cases produced.</p>

                  <h3>Tags:</h3>
                        <ul class="tags">
                            <li><div class="tag">Red Wine</a></li>
                            <li><div class="tag">Black Grape</a></li>
                            <li><div class="tag">Bordeaux</a></li>
                        </ul>
                  </div>
                  </section>
                  <section>
                    <p class="title" data-section-title><a href="#">More Info.</a></p>
                    <div class="content" data-section-content>
                      <p><strong>Average Rating:</strong>
                        <div id="averageStarRating"></div>
                      </p>
                      <p><strong>Qualities:</strong>
                        <div id="averageQualities">
                          <div id="circleBarGraph">
                            <script type="text/javascript+protovis">

                            /* MODIFY THIS */
                            var data = [[7],
                            [8],
                            [7],
                            [4],
                            [10],
                            [8],
                            [9],
                            [1],
                            [5],
                            [3],
                            [5],
                            [4],
                            [7],
                            [9],
                            [10],
                            [2]];

                            var data1 = [ {name: "Bitter", value: 7, attr: "taste"},
                            {name: "Sweet", value: 8, attr: "taste"},
                            {name: "Sour", value: 7, attr: "taste"},
                            {name: "Salty", value: 4, attr: "taste"},
                            {name: "Chemical", value: 10, attr: "aroma"},
                            {name: "Pungent", value: 8, attr: "aroma"},
                            {name: "Oxidized", value: 9, attr: "aroma"},
                            {name: "Microbiological", value: 7, attr: "aroma"},
                            {name: "Floral", value: 5, attr: "aroma"},
                            {name: "Spicy", value: 3, attr: "aroma"},
                            {name: "Fruity", value: 5, attr: "aroma"},
                            {name: "Vegetative", value: 4, attr: "aroma"},
                            {name: "Nutty", value: 7, attr: "aroma"},
                            {name: "Caramelized", value: 9, attr: "aroma"},
                            {name: "Woody", value: 10, attr: "aroma"},
                            {name: "Earthy", value: 2, attr: "aroma"}
                            ];

                            var attrColor = { Bitter: "#2CA02C",
                            Sweet: "#1F77B4",
                            Sour: "#CC0000",
                            Salty: "#6A98D5",
                            Chemical:  "#FFCC00",
                            Pungent: "#99FF00",
                            Oxidized: "#FF9900",
                            Microbiological: "#560156",
                            Floral: "#9467BD",
                            Spicy: "#000000",
                            Fruity: "#D62728",
                            Vegetative: "#FF6600",
                            Nutty: "#C49C94",
                            Caramelized: "#8E7618",
                            Woody:  "#7F7F7F",
                            Earthy: "#8C564B"
                            }

                        /*    var data1 = [ {value: 7, color: "#1F77B4"},
                            {value: 8, color: "#AEC7E8"},
                            {value: 7, color: "#FF7F0E"},
                            {value: 4, color: "#FFBB78"},
                            {value: 10, color: "#2CA02C"},
                            {value: 8, color: "#98DF8A"},
                            {value: 9, color: "#D62728"},
                            {value: 1, color: "#FF9896"},
                            {value: 5, color: "#9467BD"},
                            {value: 3, color: "#C5B0D5"},
                            {value: 5, color: "#8C564B"},
                            {value: 4, color: "#C49C94"},
                            {value: 7, color: "#E377C2"},
                            {value: 9, color: "#F7B6D2"},
                            {value: 10, color: "#7F7F7F"},
                            {value: 2, color: "#000000"}
                            ];
                            */

                            var gramColor = {
                              aroma: "rgba(255, 255, 130, .8)",
                              taste: "rgba(230, 130, 110, .8)"
                            };


                            /* 
                             * Basic dimensions.
                             * Width/Height - positioning 
                             */
                             var width = 400,
                             height = 700,
                             innerRadius = 50,
                             outerRadius = 200;

                             /* Burtin's radius encoding is, as far as I can tell, sqrt(log(mic)). */
                             var min = 0,
                             max = 10,
                             a = (outerRadius - innerRadius) / (max - min),
                             b = innerRadius - a * max,
                             radius = function(mic) a * mic + innerRadius;

                            /*
                             * The pie is split into equal sections for each bacteria, with a blank
                             * section at the top for the grid labels. Each wedge is further
                             * subdivided to make room for the three antibiotics, equispaced.
                             */
                             var bigAngle = 2.0 * Math.PI / (data.length + 1),
                             smallAngle = bigAngle / 7;

                             /* The root panel. */
                             var vis = new pv.Panel()
                             .width(width)
                             .height(height)

                             /* Background wedges to indicate gram staining color. */
                             var bg = vis.add(pv.Wedge)
                             .data(data1) 
                             .left(width / 2)
                             .top(height / 2 - 145)
                             .innerRadius(innerRadius)
                             .outerRadius(outerRadius - 75)
                             .angle(bigAngle)
                             .startAngle(function(d) this.index * bigAngle + bigAngle / 2 - Math.PI / 2)
                                .fillStyle(function(d) gramColor[d.attr]);     // Color of background

                                /* Antibiotics. */
                                bg.add(pv.Wedge)
                                .angle(smallAngle * 5)
                                .startAngle(function(d) bg.startAngle() + smallAngle)
                                .outerRadius(function(d) radius(d.value))
                                .fillStyle(function(d) attrColor[d.name]);  //Color of bars


                                /* Circular grid lines. */
                                bg.add(pv.Dot)
                                .data(pv.range(0, 11))                     // Number of labels
                                .fillStyle(null)
                                .strokeStyle("#eee")
                                .lineWidth(0.7)
                                .size(function(i) Math.pow(radius(i), 2))
                                .anchor("top").add(pv.Label)
                                .visible(function(i) i < 11)
                                .textBaseline("middle")
                                .text(function(i) i);


                                /* Radial grid lines. Grid lines between bars. */
                                bg.add(pv.Wedge)
                                .data(pv.range(data.length + 1))
                                .innerRadius(innerRadius - 5)
                                .outerRadius(outerRadius - 50)
                                .fillStyle(null)
                                .strokeStyle("black")
                                .lineWidth(0.5)
                                .angle(0);


                                /* Antibiotic legend. */
                                vis.add(pv.Bar)
                                .data(pv.keys(gramColor))
                                .left(width / 4 + 65)
                                .top(function() height / 4 + 10 + this.index * 25)
                                .fillStyle(function(d) gramColor[d])
                                .width(36)
                                .height(12)
                                .anchor("right").add(pv.Label)
                                .textMargin(6)
                                .textAlign("left");


                                /* Legend for background colors. */
                                vis.add(pv.Dot)
                                .data(data1)
                                .left(width / 4 + 75)
                                .top(function() + 420 + this.index * 18)
                                .fillStyle(function(d) attrColor[d.name])
                                .strokeStyle(null)
                                .size(30)
                                .anchor("right").add(pv.Label)
                                .textMargin(6)
                                .textAlign("left")
                                .text(function(d) "" + d.name);

                                vis.render();
                                </script>
                              </div>
                            </div>
                          </p>
                    </div>
                  </section>
                </div>
          </div>
      </div>
      <a class="close-reveal-modal">&#215;</a>
    </div>	


  <script>
  document.write('<script src=' +
  ('__proto__' in {} ? 'javascripts/vendor/zepto' : 'javascripts/vendor/jquery') +
  '.js><\/script>')
  </script>
  
  <script src="javascripts/foundation.min.js"></script>
  
  <script>
    $(document).foundation();
  </script>

</body>
</html>